import Post from '../../../components/Post'
import Code from '../../../components/Code'
import Divider from '../../../components/Divider'
import FooterInfo from '../../../components/FooterInfo'

import { data } from '../../../data/create-a-jamstack-blog'

export const meta = {
  title: 'Creating a Jamstack blog',
  description: "Guide on building a blog using NextJS, Tailwind, MDX, and Vercel",
  date: 'Mar 4, 2021',
  coverImage: '/images/blog-with-nextjs-guide/cover-image.png',
  authors: [
    {image:'/authors/ren.jpg', name: 'Ren', title: 'Author'}
  ],
  tagline: '',
  category: 'Web Dev',
  tags: ['web', 'vercel', 'guide', 'jamstack', 'nextjs', 'tailwind', 'mdx'],
  demo: "https://jamstack-blog-git-main-technopathic.vercel.app/",
  source: "https://github.com/Technopathic/jamstack-blog",
  footer: {
    coverImage: "/images/blog-with-nextjs-guide/cover-image.png", 
    next: {chapter: "Everybody loves posts", url: "/Creating-a-Jamstack-blog/Everybody-loves-posts"}
  },
  info: {
    content:[
      {chapter: "Introduction",
        url: "/Creating-a-Jamstack-blog",
      },
      {chapter: "Our blog components",
        url: "/Creating-a-Jamstack-blog/Our-blog-components",
      },
      {chapter: "We want previews", 
        url: "/Creating-a-Jamstack-blog/We-want-previews",
      },
      {chapter: "Everybody loves posts", 
        url: "/Creating-a-Jamstack-blog/Everybody-loves-posts",
      },
      {chapter: "Bringing it home page",
        url: "/Creating-a-Jamstack-blog/Bringing-it-home-page" ,
      },
      {chapter: "Let's launch it!", 
        url: "/Creating-a-Jamstack-blog/Lets-launch-it",
      }
    ],
    currentIndex: 2
  }
}

export default ({ children }) => <Post meta={meta}>{children}</Post>

## We want previews
Let's work on the `Preview` component next. In the `components` folder, create a new file called `Preview.jsx`. On our blog we will have a list of posts, our `Preview` component is a single item in that list. Since components are re-usable, we can use this one component for all items in our post list. 

### Preview Layout

Let's begin by creating the layout for our `Preview` component:

<Code content={9} data={data} image="/image/blog-with-nextjs-guide/9.svg" />

Since we are linking inside of our own blog, I recommend using the NextJS `Link` component to wrap around our Preview. Inside of our `Link`, we have our inner `<a>` and inside of that we will have an `<h4>` (Our Title), an `<img>` (our preview image), and two `<span>` (a description and date). 

### Preview styles
Let's add styles to our `Preview` component starting with the `<a>`. 

<Code content={10} data={data} image="/image/blog-with-nextjs-guide/10.svg" />

Our `Preview` will be a `flex` layout with `flex-col` to make its content flow in a column (vertically). We also added additional margins and paddings to create some space between each of our post previews.

Let's style our `<h4>`, `<img>`, and `<span>` next. 

<Code content={11} data={data} image="/image/blog-with-nextjs-guide/11.svg" />

We're not adding too many styles for our `<h4>` (post preview title). We are adding a bottom margin and increasing the size of the text. We are then setting our `<img>` (preview image) to be the full width of the post preview `<a>`. The first `<span>` (post preview description) also receives top and bottom margins while the second `<span>` (post preview date) has a slightly lighter color to separate the two. 

### Preview props
Our `Preview` component will display post data, so we need to pass the post data as a prop to our `Preview` component. 

<Code content={12} data={data} image="/image/blog-with-nextjs-guide/12.svg" />

Our post props will pass `link` and `module` props. The `link` prop will link to the full post when a user clicks on the `Preview` component. The `module` prop holds the meta data for each post to be displayed in the preview. 

<Code content={13} data={data} image="/image/blog-with-nextjs-guide/13.svg" />

<Code content={14} data={data} image="/image/blog-with-nextjs-guide/14.svg" />

That should cover it for our `Preview` component. Here is the final code:

<Code content={15} data={data} image="/image/blog-with-nextjs-guide/15.svg" />